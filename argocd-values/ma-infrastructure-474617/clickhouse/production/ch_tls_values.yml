namespace: clickhouse
envoy:
  createNamespace: false
  enabled: true
  namespace: envoy-gateway-system

domains:
  - ch.gc1.mgt.stardust.es.net

gateway:
  className: envoy
  ipv4:
    address: 35.194.7.55
  routes:
    - name: clickhouse-secure
      port: 9440
      mode: Passthrough
      protocol: TLS
      use_tls: true
      include_cert: false
    - name: http
      port: 80
      protocol: HTTP
    - name: ssl-validation
      port: 8443
      protocol: TLS
      use_tls: true
      mode: Passthrough
      include_cert: false
    - name: clickhouse-https
      port: 443
      protocol: HTTPS
      use_tls: true
      mode: Terminate
      include_cert: true

tlsPolicy:
  enabled: true
  name: envoy-tls-policy
  minVersion: "1.2"
  ciphers:
    - ECDHE_ECDSA_WITH_AES_128_CBC_SHA
    - ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
    - ECDHE_ECDSA_WITH_AES_256_CBC_SHA
    - ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
    - ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256
    - ECDHE_RSA_WITH_AES_128_CBC_SHA
    - ECDHE_RSA_WITH_AES_128_GCM_SHA256
    - ECDHE_RSA_WITH_AES_256_CBC_SHA
    - ECDHE_RSA_WITH_AES_256_GCM_SHA384
    - ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
    - RSA_WITH_AES_128_CBC_SHA
    - RSA_WITH_AES_128_GCM_SHA256
    - RSA_WITH_AES_256_CBC_SHA
    - RSA_WITH_AES_256_GCM_SHA384
